@{
    // Thiết lập mặc định nếu không có thông báo
    ViewBag.Message = ViewBag.Message ?? "Bạn cần mua sản phẩm để có thể đánh giá.";
}

<div class="not-authorized-review text-center">
    <div class="review-lock-icon mb-3">
        <i class="fa fa-lock" style="font-size: 50px; color: #dc3545;"></i>
    </div>

    <div class="review-message">
        <h5 class="text-danger mb-3">Không thể đánh giá sản phẩm</h5>
        <p class="text-muted">@ViewBag.Message</p>
    </div>

    <div class="review-actions mt-4">
        @if (!User.Identity.IsAuthenticated)
        {
            <a href="@Url.Action("Login", "Account")" class="btn btn-primary mr-2">
                <i class="fa fa-sign-in"></i> Đăng nhập
            </a>
        }

        <a href="@Url.Action("Index", "Products")" class="btn btn-outline-secondary">
            <i class="fa fa-shopping-cart"></i> Quay lại mua sản phẩm
        </a>
    </div>

    <div class="additional-info mt-4">
        <small class="text-muted">
            <i class="fa fa-info-circle"></i>
            Bạn chỉ có thể đánh giá sản phẩm sau khi mua hàng
        </small>
    </div>
</div>

<script>
    $(document).ready(function() {
        $('.not-authorized-review').hide().fadeIn(500);
    });
</script>